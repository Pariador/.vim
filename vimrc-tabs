let s:default_options = {
	\ "tabstop": 4,
	\ "shiftwidth": 0,
	\ "expandtab": 1
\ }

let s:filetype_options = {
	\ "html": {
		\ "tabstop": 2
	\}
\ }

function! s:SetOption(option, value)
	let command = 'let &' . a:option . ' = ' . a:value
	execute command
endfunction

function! s:SetTabOptions()
	if !has_key(s:filetype_options, &filetype)
		let l:options = s:default_options
	else
		let l:options = s:filetype_options[&filetype]
	endif

	for option in keys(l:options)
		call s:SetOption(option, l:options[option])
	endfor
endfunction

autocmd FileType * call s:SetTabOptions()

for option in keys(s:default_options)
	call s:SetOption(option, s:default_options[option])
endfor
